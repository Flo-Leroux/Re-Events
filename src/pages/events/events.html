
<ion-header>
    <div id="rectBackground"></div>
    <h1>{{activeDate}}</h1>
</ion-header>

<ion-content>
    <ion-refresher no-lines (ionRefresh)="doRefreshGeolocation($event)"></ion-refresher>

    <div id='loading' *ngIf='isLoading'>
        <ion-spinner name="crescent"></ion-spinner>
        <p>{{ loadingMessage }}</p>
    </div>

    <div id='error' *ngIf='isError'>
        <ion-icon name="arrow-up"></ion-icon>
        <p>{{ errorMessage }}</p>
    </div>

    <ion-list no-lines *ngIf='isFinished' [hidden]='isLoading'>
        <ion-item-group *ngFor="let groupEvents of activeDatas">
            <ion-item-divider sticky no-lines>{{ groupEvents.day | myDate:"ddMMMM":" ":" " }}</ion-item-divider>
            <ion-item id='{{ event.id }}' *ngFor="let event of groupEvents.tableEvent" (dblclick)='likeEvent($event)' (press)='bookmarkEvent($event)'>
                <div class='imageDiv'>
                    <!-- <img src="https://scontent-cdg2-1.xx.fbcdn.net/v/t1.0-9/25395736_1493127934135871_4755177590793565076_n.jpg?oh=d952a23cc75c7119faba93c6fd15e5a7&oe=5AD2B4FB" alt=""> -->
                    <img src="{{ event.img }}" alt="">
                </div>
    
                <ion-scroll scrollX='true' class='test'>
                    <div class="cardsCollection">
                        <ion-card class="card1">
                            <p class="title">
                                {{ event.start_time | myDate:"ddMMMMyy hhmm":" ":" " }}
                            </p>
                            <div class="action">
                                <img src="" alt="">
                            </div>
                        </ion-card>
    
                        <ion-card class='card2'>
                            <p class="title">
                                {{ event.name }}
                            </p>
                            <ul class="action">
                                <li class="like" (click)='likeEvent($event)'>
                                    <img src="assets/icons/favorite_border.svg" alt="">
                                    <img src="assets/icons/favorite_black.svg" alt="">
                                </li>
                                <li class="bookmark" (click)='bookmarkEvent($event)'>
                                    <img src="assets/icons/bookmark_border.svg" alt="">
                                    <img src="assets/icons/bookmark_black.svg" alt="">
                                </li>
                            </ul>
                        </ion-card>
                        
                        <ion-card class="card3">
                            <p class="title">
                                {{ event.location }}
                            </p>
                            <div>
                                <img src="" alt="">
                            </div>
                        </ion-card>
                    </div>
                </ion-scroll>
    
                <ul class="action_effect">
                    <li class="like">
                        <img src="assets/icons/favorite_black.svg" alt="">
                    </li>
                    <li class="bookmark">
                        <img src="assets/icons/bookmark_black.svg" alt="">
                    </li>
                </ul>
            </ion-item>
        </ion-item-group>
    </ion-list>

    <ion-infinite-scroll (ionInfinite)="getMoreEvents($event)">
        <ion-infinite-scroll-content></ion-infinite-scroll-content>
    </ion-infinite-scroll>

    <div id="refresher">
        <ion-icon name="arrow-down"></ion-icon>
        Rafraichir ma position
        <ion-icon name="arrow-down"></ion-icon>
    </div>
    
</ion-content>
